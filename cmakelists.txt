cmake_minimum_required( VERSION 3.23.0 )

option( CGLM_USE_C99 "" ON ) # C11
set( CMAKE_C_STANDARD 99 )

project( ivk )

add_executable( ivk 
    src/main.c 
    src/ivk.c
    src/ivk_buffers.c
    src/ivk_validation.c
    src/ivk_swapchain.c
    src/ivk_pipeline.c
    src/ivk_uniform.c
)

add_subdirectory( glfw )
add_subdirectory( cglm )

find_package( Vulkan REQUIRED )

target_include_directories( ivk PUBLIC 
    ${PROJECT_BINARY_DIR}
    ${PROJECT_BINARY_DIR}/glfw/include
    ${Vulkan_INCLUDE_DIRS}    
)

target_link_directories( ivk
    PRIVATE ${CMAKE_SOURCE_DIR}/glfw
)
message( ${Vulkan_LIBRARY} )

target_link_libraries ( ivk PUBLIC 
    glfw
    cglm
    ${Vulkan_LIBRARY}
    ${VULKAN_LIBRARIES}
)
